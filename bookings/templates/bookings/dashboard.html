{% extends 'base.html' %}
{% block content %}
<h2 class="mb-3">My Bookings</h2>

<div class="mb-4">
  <a href="{% url 'booking_create' %}" class="btn btn-success">Book a Service</a>
  <a href="{% url 'vehicle_create' %}" class="btn btn-outline-secondary ms-2">Add Vehicle</a>
</div>

{% if bookings %}
  <div class="table-responsive">
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th>ID</th>
          <th>Vehicle</th>
          <th>Service</th>
          <th>Status</th>
          <th>Preferred Date</th>
          <th>Est. Completion</th>
          <th>Est. Price</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for b in bookings %}
          <tr>
            <td>#{{ b.id }}</td>
            <td>{{ b.vehicle }}</td>
            <td>{{ b.service.name }}</td>
            <td><span class="badge bg-info text-dark">{{ b.get_status_display }}</span></td>
            <td>{{ b.preferred_date }}</td>
            <td>{{ b.estimated_completion_time|default:"-" }}</td>
            <td>${{ b.estimated_price }}</td>
            <td><a href="{% url 'booking_detail' b.id %}" class="btn btn-sm btn-outline-primary">Details</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p>You donâ€™t have any bookings yet. <a href="{% url 'booking_create' %}">Create your first booking.</a></p>
{% endif %}
{% endblock %}
